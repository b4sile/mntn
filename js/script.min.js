const burger=document.querySelector(".burger"),menu=document.querySelector(".header__nav"),scrollsBtns=document.querySelectorAll(".scrolls__btn"),sections=document.querySelectorAll(".section"),mainScroll=document.querySelector(".main__scroll"),scrollLine=document.querySelector(".scrolls__line");scrollLine.style.height=100/scrollsBtns.length+"%",scrollLine.style.top=`-${100/scrollsBtns.length}%`;const getPosition=s=>{let e=0;for(;s;)e+=s.offsetTop-s.scrollTop+s.clientTop,s=s.offsetParent;return e},distanceToSections=Array.from(sections).map(getPosition);let prevDistance=null;const onClickButtonScroll=(s,e)=>{s.addEventListener("click",()=>{scrollsBtns.forEach(s=>s.classList.remove("scrolls__btn--active")),s.classList.add("scrolls__btn--active"),sections[e].scrollIntoView({behavior:"smooth"})})},onScrollWindow=()=>{for(let s=1,e=distanceToSections.length;s<e;s++)distanceToSections[s-1]<=pageYOffset&&pageYOffset<distanceToSections[s]&&distanceToSections[s-1]!==prevDistance?(prevDistance=distanceToSections[s-1],scrollsBtns.forEach(s=>s.classList.remove("scrolls__btn--active")),scrollsBtns[s-1].classList.add("scrolls__btn--active"),scrollLine.style.top=100/scrollsBtns.length*(s-1)+"%",scrollLine.style.height=100/scrollsBtns.length+"%"):distanceToSections[e-1]<=pageYOffset&&distanceToSections[e-1]!==prevDistance&&(prevDistance=distanceToSections[e-1],scrollsBtns.forEach(s=>s.classList.remove("scrolls__btn--active")),scrollsBtns[e-1].classList.add("scrolls__btn--active"),scrollLine.style.top=100/scrollsBtns.length*(e-1)+"%",scrollLine.style.height=100/scrollsBtns.length+"%")};window.addEventListener("scroll",onScrollWindow),onClickButtonScroll(mainScroll,1),scrollsBtns.forEach((s,e)=>{onClickButtonScroll(s,e)}),burger.addEventListener("click",()=>{menu.classList.toggle("header__nav--active"),burger.classList.toggle("burger--active"),document.body.classList.toggle("lock")});